<Macro ProxySecured $domain $alias $SSLCertificateKeyFile $SSLCertificateFile $protocol $target $port>
    <VirtualHost *:443>
        # Domains
        ServerName $domain
        ServerAlias $alias

        # HTTPS
        SSLEngine On
        SSLVerifyClient None
        SSLCertificateFile      /var/www/certs/$SSLCertificateFile
        SSLCertificateKeyFile   /var/www/certs/$SSLCertificateKeyFile

        # Proxy
        SSLProxyEngine on
        SSLProxyVerify none 
        SSLProxyCheckPeerCN off
        SSLProxyCheckPeerName off
        SSLProxyCheckPeerExpire off
        ProxyPass / $protocol$target:$port/
        ProxyPassReverse / $protocol$target:$port/

        Protocols h2 h2c http/1.1
    </VirtualHost>
</Macro>